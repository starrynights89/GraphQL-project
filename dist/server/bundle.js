!function(e){var n={},s={1:0};function t(s){if(n[s])return n[s].exports;var i=n[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.e=function(n){if(0!==s[n]){var t=require("./"+n+".bundle.js"),i=t.modules,l=t.ids;for(var a in i)e[a]=i[a];for(var o=0;o<l.length;o++)s[l[o]]=0}return Promise.all([])},t.m=e,t.c=n,t.d=function(e,n,s){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:s})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(s,i,function(n){return e[n]}.bind(null,i));return s},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/server",t.oe=function(e){process.nextTick(function(){throw e})},t(t.s=47)}([function(e,n){e.exports=require("react")},function(e,n){e.exports=require("@babel/runtime/regenerator")},function(e,n){e.exports=require("@babel/runtime/helpers/typeof")},function(e,n){e.exports=require("@babel/runtime/helpers/asyncToGenerator")},function(e,n){e.exports=require("@babel/runtime/helpers/classCallCheck")},function(e,n){e.exports=require("@babel/runtime/helpers/createClass")},function(e,n){e.exports=require("@babel/runtime/helpers/possibleConstructorReturn")},function(e,n){e.exports=require("@babel/runtime/helpers/getPrototypeOf")},function(e,n){e.exports=require("@babel/runtime/helpers/inherits")},function(e,n){e.exports=require("@babel/runtime/helpers/defineProperty")},function(e,n){e.exports=require("jsonwebtoken")},function(e,n){e.exports=require("react-loadable")},function(e,n){e.exports=require("react-apollo")},function(e,n){e.exports=require("sequelize")},function(e,n){e.exports=require("apollo-server-express")},function(e,n){e.exports=require("winston")},function(e,n,s){"use strict";var t=s(2),i=s.n(t),l=s(0),a=s.n(l);n.a=function(e){var n=e.color,s=e.size,t={backgroundColor:"#6ca6fd",width:40,height:40};return"undefined"!==i()(n)&&(t.color=n),"undefined"!==i()(s)&&(t.width=s,t.height=s),a.a.createElement("div",{className:"bouncer",style:t})}},function(e,n){e.exports=require("react-helmet")},function(e,n){e.exports=require("graphql-tools")},function(e,n){e.exports=require("express")},function(e,n){e.exports=require("path")},function(e,n){e.exports=require("helmet")},function(e,n){e.exports=require("@babel/runtime/helpers/extends")},function(e,n){e.exports=require("@babel/runtime/helpers/assertThisInitialized")},function(e,n){e.exports=require("react-dom/server")},function(e,n){e.exports=require("@babel/runtime/helpers/objectWithoutProperties")},function(e,n){e.exports=require("bcrypt")},function(e,n){e.exports=require("graphql-subscriptions")},function(e,n){e.exports=require("graphql")},function(e,n){e.exports=require("cors")},function(e,n){e.exports=require("compression")},function(e,n){e.exports=require("cookies")},function(e,n){e.exports=require("http")},function(e,n){e.exports=require("react-loadable/webpack")},function(e,n){e.exports=require("@fortawesome/fontawesome-svg-core")},function(e,n){e.exports=require("@fortawesome/free-solid-svg-icons")},function(e,n){e.exports=require("apollo-client")},function(e,n){e.exports=require("apollo-cache-inmemory")},function(e,n){e.exports=require("apollo-link-error")},function(e,n){e.exports=require("apollo-link")},function(e,n){e.exports=require("apollo-link-http")},function(e,n){e.exports=require("node-fetch")},function(e,n){e.exports=require("apollo-link-persisted-queries")},function(e,n){e.exports={development:{username:"alexander",password:"Toyota1989",database:"graphsite_dev",host:"localhost",dialect:"mysql",operatorsAliases:!1,pool:{max:5,min:0,acquire:3e4,idle:1e4}},production:{host:process.env.host,username:process.env.username,password:process.env.password,database:process.env.database,logging:!1,dialect:"mysql",operatorsAliases:!1,pool:{max:5,min:0,acquire:3e4,idle:1e4}}}},function(e,n){e.exports=require("aws-sdk")},function(e,n){e.exports=require("subscriptions-transport-ws")},function(e,n){e.exports=require("react-router-dom")},function(e,n,s){e.exports=s(49)},function(e){e.exports=JSON.parse('{"graphql-tag":[{"id":90,"name":"./node_modules/graphql-tag/src/index.js","file":"0.6eb6422f37cab6965532.js","publicPath":"/0.6eb6422f37cab6965532.js"}],"graphql/language/parser":[{"id":129,"name":"./node_modules/graphql/language/parser.mjs","file":"0.6eb6422f37cab6965532.js","publicPath":"/0.6eb6422f37cab6965532.js"}],"react-lifecycles-compat":[{"id":92,"name":"./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"../helpers/safeHTMLElement":[{"id":93,"name":"./node_modules/react-modal/lib/helpers/safeHTMLElement.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"./util/bytesToSize":[{"id":94,"name":"./node_modules/@synapsestudios/react-drop-n-crop/lib/util/bytesToSize.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"react-toastify":[{"id":98,"name":"./node_modules/react-toastify/esm/react-toastify.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"classnames":[{"id":99,"name":"./node_modules/classnames/index.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"../helpers/tabbable":[{"id":100,"name":"./node_modules/react-modal/lib/helpers/tabbable.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"../helpers/ariaAppHider":[{"id":101,"name":"./node_modules/react-modal/lib/helpers/ariaAppHider.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"./util/fileSizeLessThan":[{"id":102,"name":"./node_modules/@synapsestudios/react-drop-n-crop/lib/util/fileSizeLessThan.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"./util/fileType":[{"id":103,"name":"./node_modules/@synapsestudios/react-drop-n-crop/lib/util/fileType.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"react-infinite-scroller":[{"id":108,"name":"./node_modules/react-infinite-scroller/index.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"./dist/InfiniteScroll":[{"id":109,"name":"./node_modules/react-infinite-scroller/dist/InfiniteScroll.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"@fortawesome/react-fontawesome":[{"id":110,"name":"./node_modules/@fortawesome/react-fontawesome/index.es.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"react-transition-group/Transition":[{"id":111,"name":"./node_modules/react-transition-group/Transition.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"./utils/PropTypes":[{"id":112,"name":"./node_modules/react-transition-group/utils/PropTypes.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"react-transition-group/TransitionGroup":[{"id":113,"name":"./node_modules/react-transition-group/TransitionGroup.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"./utils/ChildMapping":[{"id":114,"name":"./node_modules/react-transition-group/utils/ChildMapping.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"react-modal":[{"id":115,"name":"./node_modules/react-modal/lib/index.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"./components/Modal":[{"id":116,"name":"./node_modules/react-modal/lib/components/Modal.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"./ModalPortal":[{"id":117,"name":"./node_modules/react-modal/lib/components/ModalPortal.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"../helpers/focusManager":[{"id":118,"name":"./node_modules/react-modal/lib/helpers/focusManager.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"../helpers/scopeTab":[{"id":119,"name":"./node_modules/react-modal/lib/helpers/scopeTab.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"warning":[{"id":120,"name":"./node_modules/warning/warning.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"../helpers/classList":[{"id":121,"name":"./node_modules/react-modal/lib/helpers/classList.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"@synapsestudios/react-drop-n-crop":[{"id":122,"name":"./node_modules/@synapsestudios/react-drop-n-crop/lib/index.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"./DropNCrop":[{"id":123,"name":"./node_modules/@synapsestudios/react-drop-n-crop/lib/DropNCrop.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"react-cropper":[{"id":124,"name":"./node_modules/react-cropper/dist/react-cropper.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"cropperjs":[{"id":125,"name":"./node_modules/cropperjs/dist/cropper.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"react-dropzone":[{"id":126,"name":"./node_modules/react-dropzone/dist/index.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"lodash.includes":[{"id":127,"name":"./node_modules/lodash.includes/index.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"./util/dataUrlToFile":[{"id":128,"name":"./node_modules/@synapsestudios/react-drop-n-crop/lib/util/dataUrlToFile.js","file":"1.10ffcaa044debbed147d.js","publicPath":"/1.10ffcaa044debbed147d.js"}],"./error":[{"id":91,"name":"./src/client/components/error.js","file":"2.9b594255813c065eac52.js","publicPath":"/2.9b594255813c065eac52.js"},{"id":91,"name":"./src/client/components/error.js","file":"4.3294003e4618b76956ab.js","publicPath":"/4.3294003e4618b76956ab.js"}],"./components/context/user":[{"id":95,"name":"./src/client/components/context/user.js","file":"2.9b594255813c065eac52.js","publicPath":"/2.9b594255813c065eac52.js"}],"./components/queries/postsFeed":[{"id":96,"name":"./src/client/components/queries/postsFeed.js","file":"2.9b594255813c065eac52.js","publicPath":"/2.9b594255813c065eac52.js"}],"./components/post/form":[{"id":97,"name":"./src/client/components/post/form.js","file":"2.9b594255813c065eac52.js","publicPath":"/2.9b594255813c065eac52.js"}],"./components/queries/currentUser":[{"id":104,"name":"./src/client/components/queries/currentUser.js","file":"2.9b594255813c065eac52.js","publicPath":"/2.9b594255813c065eac52.js"}],"./components/bar":[{"id":105,"name":"./src/client/components/bar/index.js","file":"2.9b594255813c065eac52.js","publicPath":"/2.9b594255813c065eac52.js"}],"./Chats":[{"id":106,"name":"./src/client/Chats.js","file":"2.9b594255813c065eac52.js","publicPath":"/2.9b594255813c065eac52.js"}],"./components/post/feedlist":[{"id":107,"name":"./src/client/components/post/feedlist.js","file":"2.9b594255813c065eac52.js","publicPath":"/2.9b594255813c065eac52.js"}],"undefined":[{"id":"","name":null,"file":"bundle.css","publicPath":"/bundle.css"},{"id":"","name":null,"file":"bundle.css","publicPath":"/bundle.css"},{"id":"","name":null,"file":"bundle.css","publicPath":"/bundle.css"},{"id":"","name":null,"file":"bundle.js","publicPath":"/bundle.js"},{"id":"","name":null,"file":"bundle.js","publicPath":"/bundle.js"},{"id":"","name":null,"file":"bundle.js","publicPath":"/bundle.js"}],"tslib":[{"id":0,"name":"./node_modules/tslib/tslib.es6.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":0,"name":"./node_modules/tslib/tslib.es6.js","file":"bundle.js","publicPath":"/bundle.js"}],"ts-invariant":[{"id":1,"name":"./node_modules/ts-invariant/lib/invariant.esm.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":1,"name":"./node_modules/ts-invariant/lib/invariant.esm.js","file":"bundle.js","publicPath":"/bundle.js"}],"react":[{"id":2,"name":"./node_modules/react/index.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":2,"name":"./node_modules/react/index.js","file":"bundle.js","publicPath":"/bundle.js"}],"prop-types":[{"id":3,"name":"./node_modules/prop-types/index.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":3,"name":"./node_modules/prop-types/index.js","file":"bundle.js","publicPath":"/bundle.js"}],"apollo-utilities":[{"id":4,"name":"./node_modules/apollo-utilities/lib/bundle.esm.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":5,"name":"./node_modules/apollo-cache-inmemory/node_modules/apollo-utilities/lib/bundle.esm.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":35,"name":"./node_modules/apollo-cache/node_modules/apollo-utilities/lib/bundle.esm.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":4,"name":"./node_modules/apollo-utilities/lib/bundle.esm.js","file":"bundle.js","publicPath":"/bundle.js"},{"id":5,"name":"./node_modules/apollo-cache-inmemory/node_modules/apollo-utilities/lib/bundle.esm.js","file":"bundle.js","publicPath":"/bundle.js"},{"id":35,"name":"./node_modules/apollo-cache/node_modules/apollo-utilities/lib/bundle.esm.js","file":"bundle.js","publicPath":"/bundle.js"}],"graphql/language/visitor":[{"id":6,"name":"./node_modules/graphql/language/visitor.mjs","file":"bundle.css","publicPath":"/bundle.css"},{"id":6,"name":"./node_modules/graphql/language/visitor.mjs","file":"bundle.js","publicPath":"/bundle.js"}],"@babel/runtime/helpers/esm/extends":[{"id":7,"name":"./node_modules/@babel/runtime/helpers/esm/extends.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":7,"name":"./node_modules/@babel/runtime/helpers/esm/extends.js","file":"bundle.js","publicPath":"/bundle.js"}],"zen-observable-ts":[{"id":8,"name":"./node_modules/zen-observable-ts/lib/bundle.esm.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":8,"name":"./node_modules/zen-observable-ts/lib/bundle.esm.js","file":"bundle.js","publicPath":"/bundle.js"}],"apollo-link":[{"id":9,"name":"./node_modules/apollo-link/lib/bundle.esm.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":9,"name":"./node_modules/apollo-link/lib/bundle.esm.js","file":"bundle.js","publicPath":"/bundle.js"}],"@wry/equality":[{"id":10,"name":"./node_modules/@wry/equality/lib/equality.esm.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":10,"name":"./node_modules/@wry/equality/lib/equality.esm.js","file":"bundle.js","publicPath":"/bundle.js"}],"tiny-invariant":[{"id":11,"name":"./node_modules/tiny-invariant/dist/tiny-invariant.esm.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":11,"name":"./node_modules/tiny-invariant/dist/tiny-invariant.esm.js","file":"bundle.js","publicPath":"/bundle.js"}],"history":[{"id":12,"name":"./node_modules/history/esm/history.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":12,"name":"./node_modules/history/esm/history.js","file":"bundle.js","publicPath":"/bundle.js"}],"@babel/runtime/helpers/esm/inheritsLoose":[{"id":13,"name":"./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":13,"name":"./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","file":"bundle.js","publicPath":"/bundle.js"}],"./../../webpack/buildin/global.js":[{"id":14,"name":"./node_modules/webpack/buildin/global.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":14,"name":"./node_modules/webpack/buildin/global.js","file":"bundle.js","publicPath":"/bundle.js"}],"react-router":[{"id":15,"name":"./node_modules/react-router/esm/react-router.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":15,"name":"./node_modules/react-router/esm/react-router.js","file":"bundle.js","publicPath":"/bundle.js"}],"hoist-non-react-statics":[{"id":16,"name":"./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":16,"name":"./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","file":"bundle.js","publicPath":"/bundle.js"}],"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose":[{"id":17,"name":"./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":17,"name":"./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","file":"bundle.js","publicPath":"/bundle.js"}],"fast-json-stable-stringify":[{"id":18,"name":"./node_modules/fast-json-stable-stringify/index.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":18,"name":"./node_modules/fast-json-stable-stringify/index.js","file":"bundle.js","publicPath":"/bundle.js"}],"apollo-client":[{"id":19,"name":"./node_modules/apollo-client/bundle.esm.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":19,"name":"./node_modules/apollo-client/bundle.esm.js","file":"bundle.js","publicPath":"/bundle.js"}],"./../../process/browser.js":[{"id":20,"name":"./node_modules/process/browser.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":20,"name":"./node_modules/process/browser.js","file":"bundle.js","publicPath":"/bundle.js"}],"graphql/language/printer":[{"id":21,"name":"./node_modules/graphql/language/printer.mjs","file":"bundle.css","publicPath":"/bundle.css"},{"id":21,"name":"./node_modules/graphql/language/printer.mjs","file":"bundle.js","publicPath":"/bundle.js"}],"subscriptions-transport-ws":[{"id":22,"name":"./node_modules/subscriptions-transport-ws/dist/client.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":22,"name":"./node_modules/subscriptions-transport-ws/dist/client.js","file":"bundle.js","publicPath":"/bundle.js"}],"react-apollo":[{"id":23,"name":"./node_modules/react-apollo/react-apollo.esm.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":23,"name":"./node_modules/react-apollo/react-apollo.esm.js","file":"bundle.js","publicPath":"/bundle.js"}],"./components/loading":[{"id":24,"name":"./src/client/components/loading.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":24,"name":"./src/client/components/loading.js","file":"bundle.js","publicPath":"/bundle.js"}],"object-assign":[{"id":25,"name":"./node_modules/object-assign/index.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":25,"name":"./node_modules/object-assign/index.js","file":"bundle.js","publicPath":"/bundle.js"}],"react-loadable":[{"id":26,"name":"./node_modules/react-loadable/lib/index.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":26,"name":"./node_modules/react-loadable/lib/index.js","file":"bundle.js","publicPath":"/bundle.js"}],"react-dom/server":[{"id":28,"name":"./node_modules/react-dom/server.browser.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":28,"name":"./node_modules/react-dom/server.browser.js","file":"bundle.js","publicPath":"/bundle.js"}],"../utils":[{"id":29,"name":"./node_modules/hash.js/lib/hash/utils.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":29,"name":"./node_modules/hash.js/lib/hash/utils.js","file":"bundle.js","publicPath":"/bundle.js"}],"minimalistic-assert":[{"id":30,"name":"./node_modules/minimalistic-assert/index.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":30,"name":"./node_modules/minimalistic-assert/index.js","file":"bundle.js","publicPath":"/bundle.js"}],"symbol-observable":[{"id":31,"name":"./node_modules/symbol-observable/es/index.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":31,"name":"./node_modules/symbol-observable/es/index.js","file":"bundle.js","publicPath":"/bundle.js"}],"@babel/runtime/helpers/inheritsLoose":[{"id":32,"name":"./node_modules/@babel/runtime/helpers/inheritsLoose.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":32,"name":"./node_modules/@babel/runtime/helpers/inheritsLoose.js","file":"bundle.js","publicPath":"/bundle.js"}],"path-to-regexp":[{"id":33,"name":"./node_modules/react-router/node_modules/path-to-regexp/index.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":33,"name":"./node_modules/react-router/node_modules/path-to-regexp/index.js","file":"bundle.js","publicPath":"/bundle.js"}],"lodash.isequal":[{"id":34,"name":"./node_modules/lodash.isequal/index.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":34,"name":"./node_modules/lodash.isequal/index.js","file":"bundle.js","publicPath":"/bundle.js"}],"react-dom":[{"id":36,"name":"./node_modules/react-dom/index.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":36,"name":"./node_modules/react-dom/index.js","file":"bundle.js","publicPath":"/bundle.js"}],"./HelmetConstants.js":[{"id":37,"name":"./node_modules/react-helmet/lib/HelmetConstants.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":37,"name":"./node_modules/react-helmet/lib/HelmetConstants.js","file":"bundle.js","publicPath":"/bundle.js"}],"@fortawesome/fontawesome-svg-core":[{"id":38,"name":"./node_modules/@fortawesome/fontawesome-svg-core/index.es.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":38,"name":"./node_modules/@fortawesome/fontawesome-svg-core/index.es.js","file":"bundle.js","publicPath":"/bundle.js"}],"react-is":[{"id":39,"name":"./node_modules/react-is/index.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":39,"name":"./node_modules/react-is/index.js","file":"bundle.js","publicPath":"/bundle.js"}],"../jsutils/inspect":[{"id":40,"name":"./node_modules/graphql/jsutils/inspect.mjs","file":"bundle.css","publicPath":"/bundle.css"},{"id":40,"name":"./node_modules/graphql/jsutils/inspect.mjs","file":"bundle.js","publicPath":"/bundle.js"}],"./nodejsCustomInspectSymbol":[{"id":41,"name":"./node_modules/graphql/jsutils/nodejsCustomInspectSymbol.mjs","file":"bundle.css","publicPath":"/bundle.css"},{"id":41,"name":"./node_modules/graphql/jsutils/nodejsCustomInspectSymbol.mjs","file":"bundle.js","publicPath":"/bundle.js"}],"./blockString":[{"id":42,"name":"./node_modules/graphql/language/blockString.mjs","file":"bundle.css","publicPath":"/bundle.css"},{"id":42,"name":"./node_modules/graphql/language/blockString.mjs","file":"bundle.js","publicPath":"/bundle.js"}],"../language/kinds":[{"id":43,"name":"./node_modules/graphql/language/kinds.mjs","file":"bundle.css","publicPath":"/bundle.css"},{"id":43,"name":"./node_modules/graphql/language/kinds.mjs","file":"bundle.js","publicPath":"/bundle.js"}],"react-helmet":[{"id":44,"name":"./node_modules/react-helmet/lib/Helmet.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":44,"name":"./node_modules/react-helmet/lib/Helmet.js","file":"bundle.js","publicPath":"/bundle.js"}],"gud":[{"id":45,"name":"./node_modules/gud/index.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":45,"name":"./node_modules/gud/index.js","file":"bundle.js","publicPath":"/bundle.js"}],"./ponyfill.js":[{"id":46,"name":"./node_modules/symbol-observable/es/ponyfill.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":46,"name":"./node_modules/symbol-observable/es/ponyfill.js","file":"bundle.js","publicPath":"/bundle.js"}],"zen-observable":[{"id":47,"name":"./node_modules/zen-observable/index.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":47,"name":"./node_modules/zen-observable/index.js","file":"bundle.js","publicPath":"/bundle.js"}],"apollo-upload-client":[{"id":48,"name":"./node_modules/apollo-upload-client/lib/index.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":48,"name":"./node_modules/apollo-upload-client/lib/index.js","file":"bundle.js","publicPath":"/bundle.js"}],"exenv":[{"id":49,"name":"./node_modules/exenv/index.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":49,"name":"./node_modules/exenv/index.js","file":"bundle.js","publicPath":"/bundle.js"}],"react-router-dom":[{"id":50,"name":"./node_modules/react-router-dom/esm/react-router-dom.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":50,"name":"./node_modules/react-router-dom/esm/react-router-dom.js","file":"bundle.js","publicPath":"/bundle.js"}],"./cjs/react.production.min.js":[{"id":51,"name":"./node_modules/react/cjs/react.production.min.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":51,"name":"./node_modules/react/cjs/react.production.min.js","file":"bundle.js","publicPath":"/bundle.js"}],"./cjs/react-dom.production.min.js":[{"id":52,"name":"./node_modules/react-dom/cjs/react-dom.production.min.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":52,"name":"./node_modules/react-dom/cjs/react-dom.production.min.js","file":"bundle.js","publicPath":"/bundle.js"}],"scheduler":[{"id":53,"name":"./node_modules/react-dom/node_modules/scheduler/index.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":53,"name":"./node_modules/react-dom/node_modules/scheduler/index.js","file":"bundle.js","publicPath":"/bundle.js"}],"./cjs/scheduler.production.min.js":[{"id":54,"name":"./node_modules/react-dom/node_modules/scheduler/cjs/scheduler.production.min.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":54,"name":"./node_modules/react-dom/node_modules/scheduler/cjs/scheduler.production.min.js","file":"bundle.js","publicPath":"/bundle.js"}],"./factoryWithThrowingShims":[{"id":55,"name":"./node_modules/prop-types/factoryWithThrowingShims.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":55,"name":"./node_modules/prop-types/factoryWithThrowingShims.js","file":"bundle.js","publicPath":"/bundle.js"}],"./lib/ReactPropTypesSecret":[{"id":56,"name":"./node_modules/prop-types/lib/ReactPropTypesSecret.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":56,"name":"./node_modules/prop-types/lib/ReactPropTypesSecret.js","file":"bundle.js","publicPath":"/bundle.js"}],"react-side-effect":[{"id":57,"name":"./node_modules/react-side-effect/lib/index.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":57,"name":"./node_modules/react-side-effect/lib/index.js","file":"bundle.js","publicPath":"/bundle.js"}],"shallowequal":[{"id":58,"name":"./node_modules/shallowequal/index.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":58,"name":"./node_modules/shallowequal/index.js","file":"bundle.js","publicPath":"/bundle.js"}],"react-fast-compare":[{"id":59,"name":"./node_modules/react-fast-compare/index.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":59,"name":"./node_modules/react-fast-compare/index.js","file":"bundle.js","publicPath":"/bundle.js"}],"./HelmetUtils.js":[{"id":60,"name":"./node_modules/react-helmet/lib/HelmetUtils.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":60,"name":"./node_modules/react-helmet/lib/HelmetUtils.js","file":"bundle.js","publicPath":"/bundle.js"}],"../../assets/css/style.css":[{"id":61,"name":"./assets/css/style.css","file":"bundle.css","publicPath":"/bundle.css"},{"id":61,"name":"./assets/css/style.css","file":"bundle.js","publicPath":"/bundle.js"}],"@synapsestudios/react-drop-n-crop/lib/react-drop-n-crop.min.css":[{"id":62,"name":"./node_modules/@synapsestudios/react-drop-n-crop/lib/react-drop-n-crop.min.css","file":"bundle.css","publicPath":"/bundle.css"},{"id":62,"name":"./node_modules/@synapsestudios/react-drop-n-crop/lib/react-drop-n-crop.min.css","file":"bundle.js","publicPath":"/bundle.js"}],"./../../timers-browserify/main.js":[{"id":63,"name":"./node_modules/timers-browserify/main.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":63,"name":"./node_modules/timers-browserify/main.js","file":"bundle.js","publicPath":"/bundle.js"}],"setimmediate":[{"id":64,"name":"./node_modules/setimmediate/setImmediate.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":64,"name":"./node_modules/setimmediate/setImmediate.js","file":"bundle.js","publicPath":"/bundle.js"}],"isarray":[{"id":65,"name":"./node_modules/react-router/node_modules/isarray/index.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":65,"name":"./node_modules/react-router/node_modules/isarray/index.js","file":"bundle.js","publicPath":"/bundle.js"}],"./cjs/react-is.production.min.js":[{"id":66,"name":"./node_modules/react-is/cjs/react-is.production.min.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":66,"name":"./node_modules/react-is/cjs/react-is.production.min.js","file":"bundle.js","publicPath":"/bundle.js"}],"react-toastify/dist/ReactToastify.css":[{"id":67,"name":"./node_modules/react-toastify/dist/ReactToastify.css","file":"bundle.css","publicPath":"/bundle.css"},{"id":67,"name":"./node_modules/react-toastify/dist/ReactToastify.css","file":"bundle.js","publicPath":"/bundle.js"}],"./../webpack/buildin/module.js":[{"id":68,"name":"./node_modules/webpack/buildin/module.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":68,"name":"./node_modules/webpack/buildin/module.js","file":"bundle.js","publicPath":"/bundle.js"}],"./../../webpack/buildin/harmony-module.js":[{"id":69,"name":"./node_modules/webpack/buildin/harmony-module.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":69,"name":"./node_modules/webpack/buildin/harmony-module.js","file":"bundle.js","publicPath":"/bundle.js"}],"./lib/Observable.js":[{"id":70,"name":"./node_modules/zen-observable/lib/Observable.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":70,"name":"./node_modules/zen-observable/lib/Observable.js","file":"bundle.js","publicPath":"/bundle.js"}],"./cjs/react-dom-server.browser.production.min.js":[{"id":71,"name":"./node_modules/react-dom/cjs/react-dom-server.browser.production.min.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":71,"name":"./node_modules/react-dom/cjs/react-dom-server.browser.production.min.js","file":"bundle.js","publicPath":"/bundle.js"}],"backo2":[{"id":72,"name":"./node_modules/backo2/index.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":72,"name":"./node_modules/backo2/index.js","file":"bundle.js","publicPath":"/bundle.js"}],"eventemitter3":[{"id":73,"name":"./node_modules/eventemitter3/index.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":73,"name":"./node_modules/eventemitter3/index.js","file":"bundle.js","publicPath":"/bundle.js"}],"./utils/is-string":[{"id":74,"name":"./node_modules/subscriptions-transport-ws/dist/utils/is-string.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":74,"name":"./node_modules/subscriptions-transport-ws/dist/utils/is-string.js","file":"bundle.js","publicPath":"/bundle.js"}],"./utils/is-object":[{"id":75,"name":"./node_modules/subscriptions-transport-ws/dist/utils/is-object.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":75,"name":"./node_modules/subscriptions-transport-ws/dist/utils/is-object.js","file":"bundle.js","publicPath":"/bundle.js"}],"graphql/utilities/getOperationAST":[{"id":76,"name":"./node_modules/graphql/utilities/getOperationAST.mjs","file":"bundle.css","publicPath":"/bundle.css"},{"id":76,"name":"./node_modules/graphql/utilities/getOperationAST.mjs","file":"bundle.js","publicPath":"/bundle.js"}],"./protocol":[{"id":77,"name":"./node_modules/subscriptions-transport-ws/dist/protocol.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":77,"name":"./node_modules/subscriptions-transport-ws/dist/protocol.js","file":"bundle.js","publicPath":"/bundle.js"}],"./defaults":[{"id":78,"name":"./node_modules/subscriptions-transport-ws/dist/defaults.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":78,"name":"./node_modules/subscriptions-transport-ws/dist/defaults.js","file":"bundle.js","publicPath":"/bundle.js"}],"./message-types":[{"id":79,"name":"./node_modules/subscriptions-transport-ws/dist/message-types.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":79,"name":"./node_modules/subscriptions-transport-ws/dist/message-types.js","file":"bundle.js","publicPath":"/bundle.js"}],"hash.js/lib/hash/sha/256":[{"id":80,"name":"./node_modules/hash.js/lib/hash/sha/256.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":80,"name":"./node_modules/hash.js/lib/hash/sha/256.js","file":"bundle.js","publicPath":"/bundle.js"}],"inherits":[{"id":81,"name":"./node_modules/inherits/inherits_browser.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":81,"name":"./node_modules/inherits/inherits_browser.js","file":"bundle.js","publicPath":"/bundle.js"}],"../common":[{"id":82,"name":"./node_modules/hash.js/lib/hash/common.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":82,"name":"./node_modules/hash.js/lib/hash/common.js","file":"bundle.js","publicPath":"/bundle.js"}],"./common":[{"id":83,"name":"./node_modules/hash.js/lib/hash/sha/common.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":83,"name":"./node_modules/hash.js/lib/hash/sha/common.js","file":"bundle.js","publicPath":"/bundle.js"}],"apollo-link-http-common":[{"id":84,"name":"./node_modules/apollo-link-http-common/lib/bundle.esm.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":84,"name":"./node_modules/apollo-link-http-common/lib/bundle.esm.js","file":"bundle.js","publicPath":"/bundle.js"}],"./src/client/index.js":[{"id":85,"name":"./src/client/index.js","file":"bundle.css","publicPath":"/bundle.css"},{"id":85,"name":"./src/client/index.js","file":"bundle.js","publicPath":"/bundle.js"}],"extract-files":[{"id":86,"name":"./node_modules/extract-files/lib/index.mjs","file":"bundle.css","publicPath":"/bundle.css"},{"id":86,"name":"./node_modules/extract-files/lib/index.mjs","file":"bundle.js","publicPath":"/bundle.js"}],"./components/loginregister":[{"id":89,"name":"./src/client/components/loginregister.js","file":"4.3294003e4618b76956ab.js","publicPath":"/4.3294003e4618b76956ab.js"}],"./Main":[{"id":88,"name":"./src/client/Main.js","file":"5.2b501296bacc41488f73.js","publicPath":"/5.2b501296bacc41488f73.js"}],"./User":[{"id":87,"name":"./src/client/User.js","file":"6.9ad0ff6823da3ae6a6fe.js","publicPath":"/6.9ad0ff6823da3ae6a6fe.js"}]}')},function(e,n,s){"use strict";s.r(n);var t=s(1),i=s.n(t),l=s(3),a=s.n(l),o=s(19),r=s.n(o),d=s(20),u=s.n(d),c=s(21),b=s.n(c),p=s(29),m=s.n(p),f=s(30),h=s.n(f),j=s(0),g=s.n(j),P=s(12),_=s(17),y=s(31),x=s.n(y),v=s(10),w=s.n(v),q=s(32),S=s(11),k=s.n(S),I=s(33),E=s(24),O=s.n(E);function C(e,n,s,t){return'\n    <html long="en>\n      <head>\n        <meta charSet="UTF-8"/>\n        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>\n        <meta httpEquiv="X-UA-Compatible" content="ie=edge"/>\n        <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">\n        '.concat("<link rel='stylesheet' href='/bundle.css'/>","\n        ").concat(n.title.toString(),"\n        ").concat(n.meta.toString(),"\n      </head>\n      <body>\n        ").concat(O.a.renderToStaticMarkup(g.a.createElement("div",{id:"root",dangerouslySetInnerHTML:{__html:e}})),"\n        ").concat(O.a.renderToStaticMarkup(g.a.createElement("script",{dangerouslySetInnerHTML:{__html:"window.__APOLLO_STATE__=".concat(JSON.stringify(s).replace(/</g,"\\u003c"))}})),"\n        ").concat(t.map(function(e){return'<script src="'.concat(e.publicPath,'"><\/script>')}).join("\n"),'\n        <script src="/bundle.js"><\/script>\n      </body>\n    </html>\n  ')}var T=s(4),A=s.n(T),M=s(5),L=s.n(M),U=s(6),R=s.n(U),D=s(7),z=s.n(D),F=s(8),H=s.n(F),N=s(23),B=s.n(N),W=s(9),G=s.n(W),J=s(34),Q=s(35);J.library.add(Q.faAngleDown);var V,Y=s(22),K=s.n(Y),$=s(25),X=s.n($),Z=s(2),ee=s.n(Z),ne=s(16),se=k()({loader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,60))},modules:["./User"],webpack:function(){return[60]},loading:ne.a}),te=k()({loader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,61))},modules:["./Main"],webpack:function(){return[61]},loading:ne.a}),ie=k()({loader:function(){return s.e(2).then(s.bind(null,62))},modules:["./components/loginregister"],webpack:function(){return[62]},loading:ne.a}),le=s(46);if("undefined"!==("undefined"==typeof window?"undefined":ee()(window))){var ae=le.BrowserRouter;V=ae}else{var oe=le.StaticRouter;V=oe}var re=le.Route,de=le.Redirect,ue=le.Switch,ce=function(e){var n=e.component,s=X()(e,["component"]);return g.a.createElement(re,K()({},s,{render:function(e){return!0===s.loggedIn?g.a.createElement(n,e):g.a.createElement(de,{to:{pathname:"/",state:{from:e.location}}})}}))},be=function(e){function n(){return A()(this,n),R()(this,z()(n).apply(this,arguments))}return H()(n,e),L()(n,[{key:"render",value:function(){return g.a.createElement(de,{to:"/"})}}]),n}(j.Component),pe=function(e){var n=e.component,s=X()(e,["component"]);return g.a.createElement(re,K()({},s,{render:function(e){return!1===s.loggedIn?g.a.createElement(n,e):g.a.createElement(de,{to:{pathname:"undefined"!==ee()(e.location.state)?e.location.state.from.pathname:"/app"}})}}))},me=function(e){function n(){return A()(this,n),R()(this,z()(n).apply(this,arguments))}return H()(n,e),L()(n,[{key:"render",value:function(){var e=this;return g.a.createElement(V,{context:this.props.context,location:this.props.location},g.a.createElement(ue,null,g.a.createElement(ce,{path:"/app",component:function(){return g.a.createElement(te,{changeLoginState:e.props.changeLoginState})},loggedIn:this.props.loggedIn}),g.a.createElement(ce,{path:"/user/:username",component:function(n){return g.a.createElement(se,K()({},n,{changeLoginState:e.props.changeLoginState}))},loggedIn:this.props.loggedIn}),g.a.createElement(pe,{exact:!0,path:"/",component:function(){return g.a.createElement(ie,{changeLoginState:e.props.changeLoginState})},loggedIn:this.props.loggedIn}),g.a.createElement(re,{component:be})))}}]),n}(j.Component),fe=function(e){function n(){var e,s;A()(this,n);for(var t=arguments.length,i=new Array(t),l=0;l<t;l++)i[l]=arguments[l];return s=R()(this,(e=z()(n)).call.apply(e,[this].concat(i))),G()(B()(s),"state",{loggedIn:s.props.loggedIn}),G()(B()(s),"changeLoginState",function(e){s.setState({loggedIn:e})}),s}return H()(n,e),L()(n,[{key:"render",value:function(){return g.a.createElement("div",null,g.a.createElement(_.Helmet,null,g.a.createElement("title",null,"Graphsite - Feed"),g.a.createElement("meta",{name:"description",content:"Newsfeed of all your friends on Graphsite"})),g.a.createElement(me,{loggedIn:this.state.loggedIn,changeLoginState:this.changeLoginState,location:this.props.location,content:this.props.context}))}}]),n}(j.Component),he=Object(P.withApollo)(fe),je=function(e){function n(){return A()(this,n),R()(this,z()(n).apply(this,arguments))}return H()(n,e),L()(n,[{key:"render",value:function(){var e=this.props,n=e.client,s=e.location,t=e.context,i=e.loggedIn;return g.a.createElement(P.ApolloProvider,{client:n},g.a.createElement(he,{location:s,context:t,loggedIn:i}))}}]),n}(g.a.Component),ge=s(36),Pe=s(37),_e=s(38),ye=s(39),xe=s(40),ve=s(41),we=s.n(ve),qe=s(42);function Se(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function ke(e){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?Se(s,!0).forEach(function(n){G()(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Se(s).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}var Ie=function(e,n){return new ge.ApolloClient({ssrMode:!0,link:ye.ApolloLink.from([Object(_e.onError)(function(e){var n=e.graphQLErrors,s=e.networkError;n&&(n.map(function(e){var n=e.message,s=e.locations,t=e.path;e.extensions;console.log("[GraphQL error]: Message: ".concat(n,",\n            Location: ").concat(s,", Path: ").concat(t))}),s&&console.log("[Network error]: ".concat(s)))}),function(e,n){return e.setContext(function(e){return ke({},e,{headers:ke({},e.headers,{"apollo-client-name":"Apollo Backend Client","apollo-client-version":"1"})})}),n(e)},function(s,t){return n&&s.setContext(function(n){return ke({},n,{headers:ke({},n.headers,{Authorization:e.cookies.get("authorization")})})}),t(s)},Object(qe.createPersistedQueryLink)().concat(new xe.HttpLink({uri:"http://localhost:8000/graphql",credentials:"same-origin",fetch:we.a}))]),cache:new Pe.InMemoryCache})},Ee=s(13),Oe=s.n(Ee),Ce=s(43);var Te,Ae,Me,Le=s.n(Ce).a.production,Ue=new Oe.a(Le.database,Le.username,Le.password,Le),Re={models:(Te=Ue,Ae={},Me=__requireContext(__dirname,".",!0,/^\.\/(?!index\.js).*\.js$/,"sync"),Me.keys().map(Me).forEach(function(e){var n=e(Te,Oe.a);Ae[n.name]=n}),Object.keys(Ae).forEach(function(e){Ae[e].associate&&Ae[e].associate(Ae)}),Ae),sequelize:Ue},De=s(14),ze=s(18),Fe=s(26),He=s.n(Fe),Ne=s(44),Be=s.n(Ne),We=s(15),Ge=s.n(We),Je=[new Ge.a.transports.File({filename:"error.log",level:"error"}),new Ge.a.transports.File({filename:"combined.log",level:"verbose"})];var Qe=Ge.a.createLogger({level:"info",format:Ge.a.format.json(),transports:Je}),Ve=s(27);function Ye(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function Ke(e){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?Ye(s,!0).forEach(function(n){G()(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ye(s).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}var $e=new Ve.PubSub,Xe=new Be.a.S3({signatureVersion:"v4",region:"us-west-1"}),Ze=Oe.a.Op,en=process.env.JWT_SECRET;function nn(){var e,n=this.db.models,s=n.Post,t=n.User,l=n.Chat,o=n.Message;return{Post:{user:function(e,n,s){return e.getUser()}},Message:{user:function(e,n,s){return e.getUser()},chat:function(e,n,s){return e.getChat()}},Chat:{messages:function(e,n,s){return e.getMessages({order:[["id","ASC"]]})},users:function(e,n,s){return e.getUsers()},lastMessage:function(e,n,s){return e.getMessages({limit:1,order:[["id","DESC"]]}).then(function(e){return e[0]})}},RootQuery:{currentUser:function(e,n,s){return s.user},posts:function(e,n,t){return s.findAll({order:[["createdAt","DESC"]]})},chat:function(e,n,s){var i=n.chatId;return l.findByPk(i,{include:[{model:t,required:!0},{model:o}]})},chats:function(e,n,s){return l.findAll({include:[{model:t,required:!0,through:{where:{userId:s.user.id}}},{model:o}]})},postsFeed:function(e,n,i){var l=n.page,a=n.limit,o=n.username,r=0;l&&a&&(r=l*a);var d={order:[["createdAt","DESC"]],offset:r};return a&&(d.limit=a),"undefined"!==ee()(o)&&(d.include=[{model:t}],d.where={"$User.username$":o}),{posts:s.findAll(d)}},user:function(e,n,s){var i=n.username;return t.findOne({where:{username:i}})},usersSearch:function(e,n,s){var i=n.page,l=n.limit,a=n.text;if(a.length<3)return{users:[]};var o=0;i&&l&&(o=i*l);var r={order:[["createdAt","DESC"]],offset:o};return l&&(r.limit=l),r.where={username:G()({},Ze.like,"%"+a+"%")},{users:t.findAll(r)}}},RootMutation:{addPost:function(e,n,i){var l=n.post;return Qe.log({level:"info",message:"Post was created"}),t.findAll().then(function(e){var n=e[0];return s.create(Ke({},l)).then(function(e){return Promise.all([e.setUser(n.id)]).then(function(){return e})})})},addChat:function(e,n,s){var t=n.chat;return Qe.log({level:"info",message:"Message was created"}),l.create().then(function(e){return Promise.all([e.setUsers(t.users)]).then(function(){return e})})},addMessage:function(e,n,s){var t=n.message;return Qe.log({level:"info",message:"Message was created"}),o.create(Ke({},t)).then(function(e){return Promise.all([e.setUser(s.user.id),e.setChat(t.chatId)]).then(function(){return $e.publish("messageAdded",{messageAdded:e}),e})})},updatePost:function(e,n,t){var i=n.post,l=n.postId;return s.update(Ke({},i),{where:{id:l}}).then(function(e){if(1===e[0])return Qe.log({level:"info",message:"Post "+l+" was updated"}),s.findById(l)})},deletePost:function(e,n,t){var i=n.postId;return s.destroy({where:{id:i}}).then(function(e){return 1===e?(Qe.log({level:"info",message:"Post "+i+"was deleted"}),{success:!0}):{success:!1}},function(e){Qe.log({level:"error",message:e.message})})},login:function(e,n,s){var l=n.email,o=n.password;return t.findAll({where:{email:l},raw:!0}).then(function(){var e=a()(i.a.mark(function e(n){var t,a,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length=1)){e.next=15;break}return t=n[0],e.next=4,He.a.compare(o,t.password);case 4:if(e.sent){e.next=7;break}throw new Error("Password does not match");case 7:return a=w.a.sign({email:l,id:t.id},en,{expiresIn:"1d"}),1,(r=new Date).setDate(r.getDate()+1),s.cookies.set("authorization",a,{signed:!0,expires:r,httpOnly:!0,secure:!1,sameSite:"strict"}),e.abrupt("return",{token:a});case 15:throw new Error("User not found");case 16:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}())},signup:function(e,n,s){var l=n.email,o=n.password,r=n.username;return t.findAll({where:G()({},Ze.or,[{email:l},{username:r}]),raw:!0}).then(function(){var e=a()(i.a.mark(function e(n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.length){e.next=4;break}throw new Error("User already exists");case 4:return e.abrupt("return",He.a.hash(o,10).then(function(e){return t.create({email:l,password:e,username:r,activated:1}).then(function(e){var n=w.a.sign({email:l,id:e.id},en,{expiresIn:"1d"}),t=new Date;return t.setDate(t.getDate()+1),s.cookies.set("authorization",n,{signed:!0,expires:t,httpOnly:!0,secure:!1,sameSite:"strict"}),{token:n}})}));case 5:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}())},uploadAvatar:(e=a()(i.a.mark(function e(n,s,l){var a,o,r,d,u,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.file,e.next=3,a;case 3:return o=e.sent,r=o.stream,d=o.filename,o.mimetype,o.encoding,"apollosite",u={Bucket:"apollosite",Key:l.user.id+"/"+d,ACL:"public-read",Body:r},e.next=12,Xe.upload(u).promise();case 12:return c=e.sent,e.abrupt("return",t.update({avatar:c.Location},{where:{id:l.user.id}}).then(function(){return{filename:d,url:c.Location}}));case 14:case"end":return e.stop()}},e)})),function(n,s,t){return e.apply(this,arguments)}),logout:function(e,n,s){return s.cookies.set("authorization","",{signed:!0,expires:new Date,httpOnly:!0,secure:!1,sameSite:"strict"}),{message:!0}}},RootSubscription:{messageAdded:{subscribe:Object(Ve.withFilter)(function(){return $e.asyncIterator("messageAdded")},function(e,n,s){return e.messageAdded.UserId!==s.user.id&&l.findOne({where:{id:e.messageAdded.ChatId},include:[{model:t,required:!0,through:{where:{userId:s.user.id}}}]}).then(function(e){return null!==e})})}}}}var sn,tn=["\n  directive @auth on QUERY | FIELD_DEFINITION | FIELD\n  scalar Upload\n\n  type User @cacheControl(maxAge: 120) {\n    id: Int\n    avatar: String @cacheControl(maxAge: 240)\n    username: String\n    email: String\n  }\n  \n  type Post {\n    id: Int\n    text: String\n    user: User\n  }\n\n  type Message {\n    id: Int\n    text: String\n    chat: Chat\n    user: User\n  }\n\n  type Chat {\n    id: Int\n    messages: [Message]\n    users: [User]\n    lastMessage: Message\n  }\n\n  type PostFeed {\n    posts: [Post]\n  }\n\n  type File {\n    filename: String!\n    url: String!\n  }\n\n  input PostInput {\n    text: String!\n  }\n  \n  input UserInput {\n    username: String!\n    avatar: String!\n  }\n\n  input ChatInput {\n    users: [Int]\n  }\n\n  input MessageInput {\n    text: String!\n    chatId: Int!\n  }\n\n  type Response {\n    success: Boolean\n  }\n\n  type UsersSearch {\n    users: [User]\n  }\n\n  type Auth {\n    token: String\n  }\n  \n  type RootMutation {\n    addPost (\n      post: PostInput!\n    ): Post\n    addChat (\n      chat: ChatInput!\n    ): Chat\n    addMessage (\n      message: MessageInput!\n    ): Message\n    updatePost (\n      post: PostInput!\n      postId: Int!\n    ): Post\n    deletePost (\n      postId: Int!\n    ): Response\n    login (\n      email: String!\n      password: String!\n    ): Auth\n    signup (\n      username: String!\n      email: String!\n      password: String!\n    ): Auth\n    uploadAvatar (\n      file: Upload!\n    ): File @auth\n    logout: Response @auth\n  }\n\n  type RootQuery {\n    posts: [Post]\n    chats: [Chat]\n    chat(chatId: Int): Chat\n    postsFeed(page: Int, limit: Int, username: String): PostFeed @auth\n    user(username: String!): User @auth\n    usersSearch(page: Int, limit: Int, text: String!): UsersSearch\n    currentUser: User @auth\n  }\n\n  type RootSubscription {\n    messageAdded: Message\n  }\n\n  schema {\n    query: RootQuery\n    mutation: RootMutation\n    subscription: RootSubscription\n  }\n\n  enum CacheControlScope {\n    PUBLIC\n    PRIVATE\n  }\n  \n  directive @cacheControl (\n    maxAge: Int\n    scope: CacheControlScope\n  ) on FIELD_DEFINITION | OBJECT | INTERFACE\n"],ln=function(e){function n(){return A()(this,n),R()(this,z()(n).apply(this,arguments))}return H()(n,e),L()(n,[{key:"visitFieldDefinition",value:function(e){var n=e.resolve,s=void 0===n?defaultFieldResolver:n;e.resolve=a()(i.a.mark(function e(){var n,t,l,a=arguments;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=a.length,t=new Array(n),l=0;l<n;l++)t[l]=a[l];if(!t[2].user){e.next=8;break}return e.next=5,s.apply(this,t);case 5:return e.abrupt("return",e.sent);case 8:throw new De.AuthenticationError("You need to be logged in.");case 9:case"end":return e.stop()}},e,this)}))}}]),n}(De.SchemaDirectiveVisitor),an=process.env,on=an.JWT_SECRET,rn=(an.ENGINE_KEY,function(e){var n,s=Object(ze.makeExecutableSchema)({typeDefs:tn,resolvers:nn.call(e),schemaDirectives:{auth:ln}});return new De.ApolloServer({schema:s,engine:{apiKey:"service:starrynights89-37:pY8ehNaj1mGdxfzbEi10pg",generateClientInfo:function(e){var n=e.request.http.headers,s=n.get("apollo-client-name"),t=n.get("apollo-client-version");return s&&t?{clientName:s,clientVersion:t}:{clientName:"Unknown Client",clientVersion:"Unversioned"}}},cacheControl:{defaultMaxAge:5,stripFormattedExtensions:!1,calculateCacheControlHeaders:!0},context:(n=a()(i.a.mark(function n(s){var t,l,a,o;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=s.req,l=t.headers.authorization,"undefined"===ee()(l)){n.next=9;break}return"Bearer",a=new RegExp("Bearer","ig"),o=l.replace(a,"").trim(),n.abrupt("return",w.a.verify(o,on,function(n,s){return n?t:e.db.models.User.findByPk(s.id).then(function(e){return Object.assign({},t,{user:e})})}));case 9:return n.abrupt("return",t);case 10:case"end":return n.stop()}},n)})),function(e){return n.apply(this,arguments)})})}),dn=s(45),un=s(28),cn=process.env.JWT_SECRET,bn=function(e){return function(n){var s,t=Object(ze.makeExecutableSchema)({typeDefs:tn,resolvers:nn.call(e),schemaDirectives:{auth:ln}});new dn.SubscriptionServer({execute:un.execute,subscribe:un.subscribe,schema:t,onConnect:(s=a()(i.a.mark(function n(s,t){var l,a,o;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(l=s.authToken,"undefined"===ee()(l)){n.next=8;break}return"Bearer",a=new RegExp("Bearer","ig"),o=l.replace(a,"").trim(),n.abrupt("return",w.a.verify(o,cn,function(n,s){if(n)throw new Error("Missing auth token!");return e.db.models.User.findById(s.id).then(function(e){return Object.assign({},t.upgradeReq,{user:e})})}));case 8:throw new Error("Missing auth token!");case 9:case"end":return n.stop()}},n)})),function(e,n){return s.apply(this,arguments)})},{server:n,path:"/subscriptions"})}},pn=s(48),mn=process.env.JWT_SECRET,fn={graphql:rn(sn={db:Re}),subscriptions:bn(sn)},hn=u.a.join(__dirname,"../../"),jn=r()(),gn=Object(q.createServer)(jn);jn.use(b()()),jn.use(b.a.contentSecurityPolicy({directives:{defaultSrc:["'self'"],scriptSrc:["'self'","'unsafe-inline'"],styleSrc:["'self'","'unsafe-inline'"],imgSrc:["'self'","data:","*.amazonaws.com"]}})),jn.use(h()()),jn.use(m()()),jn.use(b.a.referrerPolicy({policy:"same-origin"})),jn.use("/",r.a.static(u.a.join(hn,"dist/client"))),jn.use("/uploads",r.a.static(u.a.join(hn,"uploads"))),jn.use(function(e,n,s){e.cookies=new x.a(e,n,{keys:["Some random keys"]}),s()});for(var Pn=Object.keys(fn),_n=function(e){var n=Pn[e];switch(n){case"graphql":fn[n].applyMiddleware({app:jn});break;case"subscriptions":k.a.preloadAll().then(function(){gn.listen(process.env.PORT?process.env.PORT:8e3,function(){console.log("Listening on port "+(process.env.PORT?process.env.PORT:8e3)+"!"),fn[n](gn)})});break;default:jn.use("/".concat(n),fn[n])}},yn=0;yn<Pn.length;yn+=1)_n(yn);jn.get("*",function(){var e=a()(i.a.mark(function e(n,s){var t,l,a,o,r,d;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.cookies.get("authorization",{signed:!0}),e.prev=1,e.next=4,w.a.verify(t,mn);case 4:l=!0,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),l=!1;case 10:a=Ie(n,l),o={},r=[],d=g.a.createElement(S.Capture,{report:function(e){return r.push(e)}},g.a.createElement(je,{client:a,loggedIn:l,location:n.url,context:o})),Object(P.renderToStringWithData)(d).then(function(e){if(o.url)s.redirect(301,o.url);else{var n;n=Object(I.getBundles)(pn,Array.from(new Set(r)));var t=a.extract(),i=_.Helmet.renderStatic();s.status(200),s.send("<!doctype html>\n".concat(C(e,i,t,n))),s.end()}});case 15:case"end":return e.stop()}},e,null,[[1,7]])}));return function(n,s){return e.apply(this,arguments)}}());n.default=gn},function(e,n){e.exports=require("@babel/runtime/helpers/taggedTemplateLiteral")},function(e,n){e.exports=require("graphql-tag")},function(e,n){e.exports=require("@babel/runtime/helpers/toConsumableArray")},function(e,n){e.exports=require("react-toastify")},function(e,n){e.exports=require("react-infinite-scroller")},function(e,n){e.exports=require("@fortawesome/react-fontawesome")},function(e,n){e.exports=require("prop-types")},function(e,n){e.exports=require("react-modal")},function(e,n){e.exports=require("@synapsestudios/react-drop-n-crop")},function(e,n){e.exports=require("react-router")}]);